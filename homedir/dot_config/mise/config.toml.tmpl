[env]

_.path = ['{{ "{{config_root}}" }}/node_modules/.bin']

[tools]

nodejs = '24.13'
biome = '2.4'
bun = '1.3'

"npm:aicommit2" = "latest"
"npm:agent-browser" = "latest"

golang = '1.26'

python = '3.14'
uv = '0.10'
ruff = '0.15'
ty = '0.0.15'

prek = '0.3'
hadolint = '2.14'
shellcheck = '0.11'
gitleaks = '8.30'
rumdl = '0.1.22' # too often version bumps
vale = '3.13'

just = '1.46'
chezmoi = '2.69'
bat = '0.26'
fzf = '0.67'
fd = '10.3'
jq = '1.8'
yq = '4.52'
ripgrep = '15.1'
direnv = '2.37'
zoxide = '0.9'

oras = '1.3'

oh-my-posh = '29.3'

neovim = '0.11'

# gemini = '0.28'
# codex = '0.101'
opencode = '1.2'

{{- if eq .chezmoi.os "linux" }}
docker-cli = '29.2'
{{- end }}

{{ if not .headless }}
ruby = '3.4'
dive = '0.13'
podman = '5.5'
terraform = '1.13'
cosign = '2.5'
helm = '3'
helm-diff = '3'
{{ end }}

# # # # # # extras
# rust = '1'
# kubectl = '1.31'
# kubeseal = '0.28'
# k9s = '0.40'
# git-cliff = '2.8'

[settings]

{{ if .ephemeral }}
yes = true
{{ end }}

idiomatic_version_file_enable_tools = ["python", "ruby"]


{{- $paths := list }}
{{- $paths = append $paths (joinPath .chezmoi.homeDir "proj/active") }}

{{- if eq .chezmoi.os "linux" }}
{{-   $paths = append $paths "/workspace" -}}
{{- end }}

trusted_config_paths = [{{ if $paths }}
{{- range compact $paths }}
  "{{ . }}",
{{- end }}
{{- end }}
]
